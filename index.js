const events = [
  "on:abort",
  "on:afterscriptexecute",
  "on:auxclick",
  "on:beforescriptexecute",
  "on:blur",
  "on:canplay",
  "on:canplaythrough",
  "on:change",
  "on:click",
  "on:contextmenu",
  "on:copy",
  "on:cut",
  "on:dblclick",
  "on:drag",
  "on:dragend",
  "on:dragenter",
  "on:dragleave",
  "on:dragover",
  "on:dragstart",
  "on:drop",
  "on:durationchange",
  "on:emptied",
  "on:ended",
  "on:error",
  "on:focus",
  "on:fullscreenchange",
  "on:fullscreenerror",
  "on:gotpointercapture",
  "on:input",
  "on:invalid",
  "on:keydown",
  "on:keypress",
  "on:keyup",
  "on:load",
  "on:loadeddata",
  "on:loadedmetadata",
  "on:loadstart",
  "on:lostpointercapture",
  "on:mousedown",
  "on:mouseenter",
  "on:mouseleave",
  "on:mousemove",
  "on:mouseout",
  "on:mouseover",
  "on:mouseup",
  "on:mozfullscreenchange",
  "on:mozfullscreenerror",
  "on:mozpointerlockchange",
  "on:mozpointerlockerror",
  "on:paste",
  "on:pause",
  "on:play",
  "on:playing",
  "on:pointercancel",
  "on:pointerdown",
  "on:pointerenter",
  "on:pointerleave",
  "on:pointerlockchange",
  "on:pointerlockerror",
  "on:pointermove",
  "on:pointerout",
  "on:pointerover",
  "on:pointerup",
  "on:progress",
  "on:ratechange",
  "on:readystatechange",
  "on:reset",
  "on:scroll",
  "on:seeked",
  "on:seeking",
  "on:select",
  "on:show",
  "on:stalled",
  "on:submit",
  "on:suspend",
  "on:timeupdate",
  "on:touchcancel",
  "on:touchend",
  "on:touchmove",
  "on:touchstart",
  "on:volumechange",
  "on:waiting",
  "on:wheel"
];

module.exports = function getPreprocessor(update = i => i) {
  return {
    markup: async ({ content }) => ({
      code: content.replace("on:any", ` ${update(events).join(" ")} `)
    })
  };
};
